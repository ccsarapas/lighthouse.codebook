[{"path":"https://ccsarapas.github.io/lighthouse.codebook/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025-2026 Chestnut Health Systems Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/articles/lighthouse-codebook.html","id":"creating-codebooks","dir":"Articles","previous_headings":"","what":"Creating codebooks","title":"Introduction to lighthouse.codebook","text":"Creating codebook involves two general steps: Create “codebook” object R data frame (, optionally, metadata), using cb_create() specialized variant (cb_create_spss() cb_create_redcap()). Write codebook disk using cb_write().","code":"library(lighthouse.codebook)  # create and write a codebook without metadata dat |>    cb_create() |>    cb_write(\"cb.xlsx\")  # with metadata dat |>    cb_create(metadata = dat1_metadata) |>    cb_write(\"cb.xlsx\")  # from SPSS data dat_spss <- haven::read_sav(\"dat_spss.sav\", user_na = TRUE)  dat_spss |>    cb_create_spss() |>    cb_write(\"cb_spss.xlsx\")  # from REDCap data dat_rc <- REDCapR::redcap_read(redcap_uri = rc_uri, token = rc_token) meta_rc <- REDCapR::redcap_metadata_read(redcap_uri = rc_uri, token = rc_token)  dat_rc$data |>    cb_create_redcap(metadata = meta_rc$data) |>    cb_write(\"cb_rc.xlsx\")"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/articles/lighthouse-codebook.html","id":"codebook-contents","dir":"Articles","previous_headings":"","what":"Codebook contents","title":"Introduction to lighthouse.codebook","text":"codebook written disk include overview tab listing variables dataset; summary tabs numeric, categorical, text variables; , grouping variables specified, grouped summary tabs numeric categorical variables. overview tab includes one row variable dataset, information variable types, labels, values, missingness. default, variable hyperlinked location relevant summary tab.  numeric summary tab includes descriptive statistics numeric variables dataset:  categorical summary tab includes frequencies categorical variables, optionally separate rows user missing values:  Finally, text summary tab includes frequencies common values text variables dataset. (number values shown can adjusted using n_text_vals argument cb_write().)  group_by specified cb_write(), additional numeric categorical summary tabs grouped specified variables included.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/articles/lighthouse-codebook.html","id":"customizing-codebooks","dir":"Articles","previous_headings":"","what":"Customizing codebooks","title":"Introduction to lighthouse.codebook","text":"many options controlling data interpreted, summarized, presented. section shows useful options. options detailed documentation cb_create() cb_write().","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/articles/lighthouse-codebook.html","id":"grouped-summaries","dir":"Articles","previous_headings":"Customizing codebooks","what":"Grouped summaries","title":"Introduction to lighthouse.codebook","text":"Numeric categorical data summaries can grouped one variables specifying group_by argument cb_write(). default, values subgroup shown separate columns, decked heads one grouping variable specified. However, grouping variables can instead shown rows using group_rows argument. Different row grouping behavior can specified numeric versus categorical summary tabs using group_rows_numeric group_rows_categorical arguments.","code":"cb_create(data, metadata) |>   cb_write(\"cb.xlsx\", group_by = treatment_group)  cb_create(data, metadata) |>   cb_write(\"cb.xlsx\", group_by = c(treatment_group, timepoint, age_group)) # show `treatment_group` in columns and `timepoint` in rows cb_create(data, metadata) |>   cb_write(     \"cb.xlsx\",      group_by = c(treatment_group, timepoint),     group_rows = timepoint   ) # for numeric summary, show `treatment_group` in columns and `timepoint` in rows; # for categorical summary, show all grouping variables in columns cb_create(data, metadata) |>   cb_write(     \"cb.xlsx\",      group_by = c(treatment_group, timepoint),     group_rows_numeric = timepoint   )  # for numeric summary, show all grouping variables in rows;  # for categorical summary, show `treatment_group` in rows cb_create(data, metadata) |>   cb_write(     \"cb.xlsx\",      group_by = c(treatment_group, timepoint),     group_rows_numeric = c(treatment_group, timepoint),     group_rows_categorical = treatment_group   )"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/articles/lighthouse-codebook.html","id":"user-missing-values","dir":"Articles","previous_headings":"Customizing codebooks","what":"User missing values","title":"Introduction to lighthouse.codebook","text":"User missing values (also known nonresponse codes, reserve codes, special values) can specified using .user_missing argument cb_create(). Missing values specified using formula list formulas, variables left-hand side (names tidyselect expressions) values right-hand side. left-hand side empty, user missings set compatible variables dataset. user missing values named, names treated value labels data summaries. apply different user missings different variables, pass list formulas.","code":"# set a single missing value for a single variable cb <- cb_create(data, metadata, .user_missing = var1 ~ 99)  # for variables `var1` through `var5` cb <- cb_create(data, metadata, .user_missing = var1:var5 ~ c(98, 99))  # for all numeric variables, plus `var6` and `var7` cb <- cb_create(   data,    metadata,    .user_missing = c(where(is.numeric), var6, var7) ~ c(-9, -8, -7) )  # for all compatible variables in dataset cb <- cb_create(data, metadata, .user_missing = ~ c(98, 99)) cb <- cb_create(   data,    metadata,    .user_missing = var1:var5 ~ c(\"Declined\" = 98, \"Not applicable\" = 99) ) cb <- cb_create(   data,    metadata,   .user_missing = list(     starts_with(\"status\") ~ c(\"Declined\" = 98, \"Not applicable\" = 99),     var7:var10 ~ c(\"Don't know\" = -4, \"Not applicable\" = -5)   ) )"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/articles/lighthouse-codebook.html","id":"missing-value-handling","dir":"Articles","previous_headings":"Customizing codebooks","what":"Missing value handling","title":"Introduction to lighthouse.codebook","text":"numeric summary tabs, missing values (including user missing values NA) dropped computation summary statistics. ungrouped categorical text summary tabs, default, user missing values individually tabulated. example, .user_missing = ~ c(\"Declined\" = 98,  \"applicable\" = 99), categorical text summary tabs include rows giving counts \"[98] Declined\" \"[99] applicable\". user missing values NA can instead collapsed single \"(Missing)\" row using detail_missing argument cb_write(). Finally, user missing values always collapsed (though detail_missing = FALSE) grouped summary tabs.","code":"dat |>   cb_create(.user_missing = ~  ~ c(\"Declined\" = 98, \"Not applicable\" = 99)) |>   cb_write(\"cb.xlsx\", detail_missing = FALSE)"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/articles/lighthouse-codebook.html","id":"splitting-long-variable-labels","dir":"Articles","previous_headings":"Customizing codebooks","what":"Splitting long variable labels","title":"Introduction to lighthouse.codebook","text":"Variable labels sets related variables sometimes share common prefix. Using .split_var_labels argument cb_create(), prefix can extracted separate column, making easier see glance unique variable. example, given set variable labels begin \"colors  like? Select apply: \": can split labels variables, specifying using tidyselect expression: Multiple sets variables common prefixes can specified passing list tidyselect expressions.","code":"cb_create(     data,      metadata,      .split_var_labels = starts_with(\"colors\")   ) |>   cb_write(\"cb.xlsx\") cb_create(     data,      metadata,      .split_var_labels = list(       starts_with(\"colors\"),        fav_food2:fav_food9,        c(rating1, rating4:rating7, rating9)     )   ) |>   cb_write(\"cb.xlsx\")"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/articles/lighthouse-codebook.html","id":"variable-typing","dir":"Articles","previous_headings":"","what":"Variable typing","title":"Introduction to lighthouse.codebook","text":"Data summaries produced “numeric,” “categorical,” “text” variables. given variable x, * x treated categorical (1) factor, ordered factor, logical vector, (2) associated value labels missing value codes (specified metadata , SPSS data, \"haven_labelled\" vector). * x treated numeric (1) numeric (.e., .numeric(x) TRUE) (2) associated value labels missing value codes. * x treated text (1) character vector (2) associated value labels missing value codes. Thus, can change variable summarized changing class. instance, get complete frequencies numeric character variable, convert factor; get top frequencies factor many levels, convert character. Variables classes, dates, datetimes, lists, currently included summary tabs. Summaries dates datetimes planned future release.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/articles/lighthouse-codebook.html","id":"other-uses-for-the-codebook-object","dir":"Articles","previous_headings":"","what":"Other uses for the codebook object","title":"Introduction to lighthouse.codebook","text":"\"lighthouse_codebook\" object created cb_create() commonly used write Excel codebook disk using cb_write(). However, can also used create objects R.","code":"# example data q4_subset <- gain_q4 |>    subset(select = c(XPID, XOBS, XRA, B17, SU4a, SU4b, SU1f99v))  # create codebook cb <- cb_create(   q4_subset,   metadata = q4_metadata,   .user_missing =  ~ c(\"Not Asked\" = -3,                        \"Missing\" = -4,                        \"Confidential\" = -6,                        \"Refused\" = -7,                       \"Don't Know\" = -8,                        \"Legitimate Skip\" = -9) )  cb # # A tibble: 7 × 6 #   name    type        label                         values user_missings missing #   <chr>   <chr>       <chr>                         <chr>  <chr>           <dbl> # 1 XPID    text        Participant ID                NA     [-9] Legitim…   0 # 2 XOBS    categorical Observation Wave              [0] I… [-9] Legitim…   0 # 3 XRA     categorical Random assignment             [0] C… [-9] Legitim…   0 # 4 B17     categorical Pregnant                      [0] N… [-9] Legitim…   0.221 # 5 SU4a    numeric     PPS - P90 days alcohol use    NA     [-9] Legitim…   0.394 # 6 SU4b    numeric     PPS - P90 days drunk or 5+ d… NA     [-9] Legitim…   0.442 # 7 SU1f99v text        QCS - P90 Days Other AOD Tx … NA     [-9] Legitim…   0.923"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/articles/lighthouse-codebook.html","id":"extract-transformed-data","dir":"Articles","previous_headings":"Other uses for the codebook object","what":"Extract transformed data","title":"Introduction to lighthouse.codebook","text":"Use cb_get_data() extract transformed data based several formats. format  = \"factors\" yields dataset variables value labels converted factors user missings converted NA. Whereas format = \"haven\" yields dataset SPSS-style variable labels, value labels, user missings encoded using \"haven_labelled_spss\" class.","code":"cb_get_data(cb, format = \"factors\") # # A tibble: 104 × 7 #    XPID  XOBS    XRA       B17    SU4a  SU4b SU1f99v        #    <chr> <fct>   <fct>     <fct> <dbl> <dbl> <chr> #  1 001   Intake  Treatment No       NA    NA NA #  2 002   Intake  Control   No       10     4 NA #  3 003   Intake  Treatment No       10     1 Peer counselor #  4 003   3-month Treatment No       39    15 NA #  5 003   6-month Treatment No       NA    NA NA #  6 004   Intake  Control   No       10     2 NA #  7 004   3-month Control   No       55    63 NA #  8 004   6-month Control   No       10     1 NA #  9 005   Intake  Control   Yes      35     0 Social worker # 10 005   3-month Control   Yes      55    39 NA # # ℹ 94 more rows cb_get_data(cb, format = \"haven\") # # A tibble: 104 × 7 #    XPID      XOBS        XRA           B17       SU4a      SU4b      SU1f99v     #    <chr+lbl> <dbl+lbl>   <dbl+lbl>     <dbl+lbl> <dbl+lbl> <dbl+lbl> <chr+lbl> #  1 001       0 [Intake]  1 [Treatment] 0 [No]    -9 (NA)   -9 (NA)   -9 (NA)     #  2 002       0 [Intake]  0 [Control]   0 [No]    10         4        -9 (NA)     #  3 003       0 [Intake]  1 [Treatment] 0 [No]    10         1        Peer couns… #  4 003       1 [3-month] 1 [Treatment] 0 [No]    39        15        -4 (NA) #  5 003       2 [6-month] 1 [Treatment] 0 [No]    -4 (NA)   -4 (NA)   -4 (NA) #  6 004       0 [Intake]  0 [Control]   0 [No]    10         2        -9 (NA)     #  7 004       1 [3-month] 0 [Control]   0 [No]    55        63        -9 (NA) #  8 004       2 [6-month] 0 [Control]   0 [No]    10         1        -9 (NA) #  9 005       0 [Intake]  0 [Control]   1 [Yes]   35         0        Social wor… # 10 005       1 [3-month] 0 [Control]   1 [Yes]   55        39        -9 (NA) # # ℹ 94 more rows"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/articles/lighthouse-codebook.html","id":"get-data-summaries","dir":"Articles","previous_headings":"Other uses for the codebook object","what":"Get data summaries","title":"Introduction to lighthouse.codebook","text":"cb_summarize_numeric(), cb_summarize_categorical(), cb_summarize_text() return summaries variables respective types. basis summary tabs generated cb_write(). cb_summarize_numeric() cb_summarize_categorical() can also return grouped summaries:","code":"cb_summarize_numeric(cb) # # A tibble: 2 × 8 #   name  label                         valid_n valid_pct  mean    SD median   MAD #   <chr> <chr>                           <int>     <dbl> <dbl> <dbl>  <dbl> <dbl> # 1 SU4a  PPS - P90 days alcohol use         63     0.606 23.4   21.2     20 25.2  # 2 SU4b  PPS - P90 days drunk or 5+ d…      58     0.558  8.09  13.6      2  2.97 # # ℹ 5 more variables: min <dbl>, max <dbl>, range <dbl>, skew <dbl>, kurt <dbl>  cb_summarize_categorical(cb) |>  # # A tibble: 9 × 7 #   name  label             is_missing value             n pct_of_all pct_of_valid #   <chr> <chr>             <lgl>      <chr>         <int>      <dbl>        <dbl> # 1 XOBS  Observation Wave  FALSE      [0] Intake       42    0.404         0.404 # 2 XOBS  Observation Wave  FALSE      [1] 3-month      34    0.327         0.327 # 3 XOBS  Observation Wave  FALSE      [2] 6-month      28    0.269         0.269 # 4 XRA   Random assignment FALSE      [0] Control      50    0.481         0.481  # 5 XRA   Random assignment FALSE      [1] Treatment    54    0.519         0.519 # 6 B17   Pregnant          FALSE      [1] Yes           6    0.0577        0.0741 # 7 B17   Pregnant          FALSE      [0] No           75    0.721         0.926 # 8 B17   Pregnant          TRUE       [-9] Legitim…    22    0.212        NA # 9 B17   Pregnant          TRUE       [-4] Missing      1    0.00962      NA      # # ℹ 1 more variable: pct_of_missing <dbl>  cb_summarize_text(cb) # # A tibble: 14 × 7 #    name    label                      is_missing unique_n value     n pct_of_all #    <chr>   <chr>                      <lgl>         <int> <chr> <int>     <dbl> #  1 XPID    Participant ID             FALSE            42 003       3    0.0288  #  2 XPID    Participant ID             FALSE            42 004       3    0.0288 #  3 XPID    Participant ID             FALSE            42 005       3    0.0288 #  4 XPID    Participant ID             FALSE            42 006       3    0.0288 #  5 XPID    Participant ID             FALSE            42 010       3    0.0288 #  6 XPID    Participant ID             FALSE            42 (37 …    89    0.856 #  7 SU1f99v QCS - P90 Days Other AOD … FALSE             8 AA        1    0.00962 #  8 SU1f99v QCS - P90 Days Other AOD … FALSE             8 Alco…     1    0.00962 #  9 SU1f99v QCS - P90 Days Other AOD … FALSE             8 Case…     1    0.00962 # 10 SU1f99v QCS - P90 Days Other AOD … FALSE             8 Group     1    0.00962 # 11 SU1f99v QCS - P90 Days Other AOD … FALSE             8 NA        1    0.00962 # 12 SU1f99v QCS - P90 Days Other AOD … FALSE             8 (3 o…     3    0.0288  # 13 SU1f99v QCS - P90 Days Other AOD … TRUE             NA [-4]…    44    0.423 # 14 SU1f99v QCS - P90 Days Other AOD … TRUE             NA [-9]…    52    0.5 # # ℹ 2 more variables: pct_of_valid <dbl>, pct_of_missing <dbl> cb_summarize_numeric(cb, group_by = XOBS) # # A tibble: 6 × 8 #   XOBS    name  label                      valid_n valid_pct  mean     SD median #   <fct>   <chr> <chr>                        <int>     <dbl> <dbl>  <dbl>  <dbl> # 1 Intake  SU4a  PPS - P90 days alcohol use      30     0.714 28.8  20.1     26.5 # 2 3-month SU4a  PPS - P90 days alcohol use      20     0.588 21.4  21.0     12.5 # 3 6-month SU4a  PPS - P90 days alcohol use      13     0.464 13.9  21.5      6 # 4 Intake  SU4b  PPS - P90 days drunk or 5…      30     0.714  7.13 10.7      4 # 5 3-month SU4b  PPS - P90 days drunk or 5…      15     0.441 16.1  20.0      3 # 6 6-month SU4b  PPS - P90 days drunk or 5…      13     0.464  1     0.707    1 # # ℹ 6 more variables: MAD <dbl>, min <dbl>, max <dbl>, range <dbl>, skew <dbl>,  # #   kurt <dbl>  cb_summarize_categorical(cb, group_by = XRA) # # A tibble: 12 × 7 #    XRA       name  label            value           n pct_of_all pct_of_valid #    <fct>     <chr> <chr>            <chr>       <int>      <dbl>        <dbl> #  1 Control   XOBS  Observation Wave [0] Intake     20     0.4          0.4 #  2 Control   XOBS  Observation Wave [1] 3-month    16     0.32         0.32   #  3 Control   XOBS  Observation Wave [2] 6-month    14     0.28         0.28 #  4 Treatment XOBS  Observation Wave [0] Intake     22     0.407        0.407 #  5 Treatment XOBS  Observation Wave [1] 3-month    18     0.333        0.333 #  6 Treatment XOBS  Observation Wave [2] 6-month    14     0.259        0.259 #  7 Control   B17   Pregnant         [1] Yes         3     0.06         0.0811 #  8 Control   B17   Pregnant         [0] No         34     0.68         0.919  #  9 Control   B17   Pregnant         (Missing)      13     0.26        NA # 10 Treatment B17   Pregnant         [1] Yes         3     0.0556       0.0682 # 11 Treatment B17   Pregnant         [0] No         41     0.759        0.932 # 12 Treatment B17   Pregnant         (Missing)      10     0.185       NA"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Casey Sarapas. Author, maintainer. Chestnut Health Systems. Copyright holder.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Sarapas C (2026). lighthouse.codebook: Summarize Datasets Lighthouse Institute Projects. R package version 0.3.1, https://github.com/ccsarapas/lighthouse.codebook.","code":"@Manual{,   title = {lighthouse.codebook: Summarize Datasets for Lighthouse Institute Projects},   author = {Casey Sarapas},   year = {2026},   note = {R package version 0.3.1},   url = {https://github.com/ccsarapas/lighthouse.codebook}, }"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/index.html","id":"lighthousecodebook","dir":"","previous_headings":"","what":"Summarize Datasets for Lighthouse Institute Projects","title":"Summarize Datasets for Lighthouse Institute Projects","text":"lighthouse.codebook package includes tools summarize dataset formatted Excel workbook, including data dictionary variable summaries. incorporates external metadata (variable labels, value labels, user missing / non-response codes), functions using metadata SPSS REDCap datasets. Codebooks can customized number ways, including options grouped summaries.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Summarize Datasets for Lighthouse Institute Projects","text":"can install lighthouse.codebook running:","code":"# install.packages(\"remotes\") remotes::install_github(\"ccsarapas/lighthouse.codebook\")"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/index.html","id":"creating-codebooks","dir":"","previous_headings":"","what":"Creating codebooks","title":"Summarize Datasets for Lighthouse Institute Projects","text":"Creating codebook involves two general steps: Create “codebook” object R data frame (, optionally, metadata) using cb_create() specialized variant (cb_create_spss() cb_create_redcap()). Write codebook disk using cb_write().","code":"library(lighthouse.codebook)  # create and write a codebook without metadata dat |>    cb_create() |>    cb_write(\"cb.xlsx\")  # with metadata dat |>    cb_create(metadata = dat1_metadata) |>    cb_write(\"cb.xlsx\")  # from SPSS data dat_spss <- haven::read_sav(\"dat_spss.sav\", user_na = TRUE)  dat_spss |>    cb_create_spss() |>    cb_write(\"cb_spss.xlsx\")  # from REDCap data dat_rc <- REDCapR::redcap_read(redcap_uri = rc_uri, token = rc_token) meta_rc <- REDCapR::redcap_metadata_read(redcap_uri = rc_uri, token = rc_token)  dat_rc$data |>    cb_create_redcap(metadata = meta_rc$data) |>    cb_write(\"cb_rc.xlsx\")"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/index.html","id":"customizing-codebooks","dir":"","previous_headings":"","what":"Customizing codebooks","title":"Summarize Datasets for Lighthouse Institute Projects","text":"many options controlling data interpreted, summarized, presented. See introduction lighthouse.codebook useful options, including grouped data summaries specifying user missing codes. options detailed help pages cb_create() cb_write().","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/index.html","id":"codebook-contents","dir":"","previous_headings":"","what":"Codebook contents","title":"Summarize Datasets for Lighthouse Institute Projects","text":"codebook written disk include overview tab listing variables dataset; summary tabs numeric, categorical, text variables; , grouping variables specified, grouped summary tabs numeric categorical variables. overview tab includes one row variable dataset, information variable types, labels, values, missingness. default, variable hyperlinked location relevant summary tab.  numeric summary tab includes descriptive statistics numeric variables dataset:  categorical summary tab includes frequencies categorical variables, optionally separate rows user missing values:  Finally, text summary tab includes frequencies common values text variables dataset. (number values shown can adjusted using n_text_vals argument cb_write().)  group_by specified cb_write(), additional numeric categorical summary tabs grouped specified variables included.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/index.html","id":"spss-extension","dir":"","previous_headings":"","what":"SPSS extension","title":"Summarize Datasets for Lighthouse Institute Projects","text":"Functionality package also available SPSS extension command .","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a codebook object — cb_create","title":"Generate a codebook object — cb_create","text":"cb_create() builds object class \"li_codebook\" dataset optional metadata. resulting object can used write Excel workbook variable data summaries (using cb_write()), extract processed data (cb_get_data()), generate dataset summaries (cb_summarize_numeric(), cb_summarize_categorical(), cb_summarize_text()).","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a codebook object — cb_create","text":"","code":"cb_create(   data,   metadata = NULL,   ...,   .name = name,   .var_label = label,   .val_labels = val_labels,   .user_missing = NULL,   .split_var_labels = NULL,   .val_labs_sep1 = NULL,   .val_labs_sep2 = NULL,   .options = cb_create_options() )"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a codebook object — cb_create","text":"data data frame. metadata data frame containing metadata, variable labels value labels. ... Additional columns metadata preserve final codebook. New names can assigned passing named arguments. Columns variable name, form, variable label, value labels included default. .name, .var_label, .val_labels Columns metadata containing variable name, variable label, value labels, respectively. metadata provided, .name must specified. .var_label .val_labels may set NULL omit. .user_missing formula list formulas specifying user missing values. Formulas specify variables left-hand side (variable names tidyselect expressions), missing values right-hand side. left-hand side omitted, defaults tidyselect::everything(). See \"Specifying user missing values\" examples. .split_var_labels tidyselect expression list tidyselect expressions, indicating (sets ) variable labels common stem extracted separate column. .val_labs_sep1, .val_labs_sep2 Regex patterns separating value labels metadata. .val_labs_sep1 separates values labels, .val_labs_sep2 separates value/label pairs one another. e.g., value labels format \"1, First label|2, Second label\", set .val_labs_sep1 \",\" .val_labs_sep2 \"\\\\|\". .options Additional options use codebook creation. Must result call cb_create_options(). See function's help page available options.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a codebook object — cb_create","text":"\"li_codebook\" object, consisting tibble summarizing passed dataset attributes containing additional metadata. tibble includes columns: name: variable name type: column containing simplified variable type class: optional column containing class(es) variable label_stem: optional column containing variable label stems, variables specified .split_var_labels label: variable label values: values, labels applicable user_missing: optional column showing user missing values, labels applicable. default, column included user missings specified least one variable. behavior can changed using user_missing_col argument cb_create_options(). missing: proportion missing additional columns specified ...","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create.html","id":"specifying-user-missing-values","dir":"Reference","previous_headings":"","what":"Specifying user missing values","title":"Generate a codebook object — cb_create","text":"User missing values defined passing formula list formulas .user_missing argument. Formulas specify variables left-hand side user missing values variables right-hand side: user missings can applied multiple variables using tidyselect expressions. Different user missings can applied different variables using list formulas: User missing values may optionally named set value labels: labels set .user_missing conflict metadata, user_missing_conflict argument cb_create_options() controls labels used. User missings may set numeric, character, factor/ordered factor, haven_labelled/haven_labelled_spss vectors. factors, user missings set based factor labels (underlying integer codes). \"haven_labelled\" vectors, user missings set based values (value labels). default, variables incompatible classes (e.g., logical, Date, POSIXt) ignored specified .user_missing. behavior can changed using .user_missing_incompatible argument cb_create_options().","code":"cb <- cb_create(data, metadata, .user_missing = var1 ~ 99) # for variables `var1` through `var5` .user_missing = var1:var5 ~ 99  # for all numeric variables, plus `var6` and `var7` .user_missing = c(where(is.numeric), var6, var7) ~ c(-9, -8, -7)  # omitted left-hand side defaults to `tidyselect::everything()` .user_missing = ~ -99 .user_missing = list(   starts_with(\"status\") ~ c(98, 99),   var7:var10 ~ 97 ) .user_missing = ~ c(Declined = -98, \"Not applicable\" = -99)"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a codebook object — cb_create","text":"","code":"diamonds2 <- ggplot2::diamonds |>   transform(     carat_group = as.integer(cut(carat, breaks = 3, labels = 1:3)),     price_group = as.integer(cut(       price,       breaks = c(0, 500, 1000, 2000, 5000, 10000, Inf),       labels = 1:6,       right = FALSE     ))   )  # basic codebook cb_create(diamonds2) #> # A tibble: 12 × 4 #>    name        type    values                                 missing #>    <chr>       <chr>   <chr>                                    <dbl> #>  1 carat       numeric NA                                           0 #>  2 cut         ordinal Fair; Good; Very Good; Premium; Ideal        0 #>  3 color       ordinal D; E; F; G; H; I; J                          0 #>  4 clarity     ordinal I1; SI2; SI1; VS2; VS1; VVS2; VVS1; IF       0 #>  5 depth       numeric NA                                           0 #>  6 table       numeric NA                                           0 #>  7 price       integer NA                                           0 #>  8 x           numeric NA                                           0 #>  9 y           numeric NA                                           0 #> 10 z           numeric NA                                           0 #> 11 carat_group integer NA                                           0 #> 12 price_group integer NA                                           0  # convert variables to factor to treat as categorical diamonds2 |>   transform(     carat_group = factor(carat_group),     price_group = factor(price_group)   ) |>   cb_create() #> # A tibble: 12 × 4 #>    name        type        values                                 missing #>    <chr>       <chr>       <chr>                                    <dbl> #>  1 carat       numeric     NA                                           0 #>  2 cut         ordinal     Fair; Good; Very Good; Premium; Ideal        0 #>  3 color       ordinal     D; E; F; G; H; I; J                          0 #>  4 clarity     ordinal     I1; SI2; SI1; VS2; VS1; VVS2; VVS1; IF       0 #>  5 depth       numeric     NA                                           0 #>  6 table       numeric     NA                                           0 #>  7 price       integer     NA                                           0 #>  8 x           numeric     NA                                           0 #>  9 y           numeric     NA                                           0 #> 10 z           numeric     NA                                           0 #> 11 carat_group categorical 1; 2; 3                                      0 #> 12 price_group categorical 1; 2; 3; 4; 5; 6                             0  # provide metadata for variable and value labels diamonds_meta <- data.frame(   name = names(diamonds2),   label = c(     # from ?ggplot2::diamonds     \"price in US dollars ($326–$18,823)\",     \"weight of the diamond (0.2–5.01)\",     \"quality of the cut (Fair, Good, Very Good, Premium, Ideal)\",     \"diamond colour, from D (best) to J (worst)\",     \"a measurement of how clear the diamond is (I1 (worst), SI2, SI1, VS2, VS1, VVS2, VVS1, IF (best))\",     \"length in mm (0–10.74)\",     \"width in mm (0–58.9)\",     \"depth in mm (0–31.8)\",     \"total depth percentage = z / mean(x, y) = 2 * z / (x + y) (43–79)\",     \"width of top of diamond relative to widest point (43–95)\",     \"diamond carat (3 groups)\",     \"diamond price (6 groups)\"   ),   val_labels = c(     rep(NA, 10),     \"1 = small; 2 = medium; 3 = large\",     \"1 = <$500; 2 = $500-$999; 3 = $1,000-$1,999; 4 = $2,000-$4,999; 5 = $5,000-$9,999; 6 = $10,000+\"   ) )  cb_create(   diamonds2, diamonds_meta,   .val_labs_sep1 = \" = \", .val_labs_sep2 = \"; \" ) #> # A tibble: 12 × 5 #>    name        type        label                                  values missing #>    <chr>       <chr>       <chr>                                  <chr>    <dbl> #>  1 carat       numeric     price in US dollars ($326–$18,823)     NA           0 #>  2 cut         ordinal     weight of the diamond (0.2–5.01)       Fair;…       0 #>  3 color       ordinal     quality of the cut (Fair, Good, Very … D; E;…       0 #>  4 clarity     ordinal     diamond colour, from D (best) to J (w… I1; S…       0 #>  5 depth       numeric     a measurement of how clear the diamon… NA           0 #>  6 table       numeric     length in mm (0–10.74)                 NA           0 #>  7 price       integer     width in mm (0–58.9)                   NA           0 #>  8 x           numeric     depth in mm (0–31.8)                   NA           0 #>  9 y           numeric     total depth percentage = z / mean(x, … NA           0 #> 10 z           numeric     width of top of diamond relative to w… NA           0 #> 11 carat_group categorical diamond carat (3 groups)               [1] s…       0 #> 12 price_group categorical diamond price (6 groups)               [1] <…       0"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create_options.html","id":null,"dir":"Reference","previous_headings":"","what":"Additional options for codebook creation — cb_create_options","title":"Additional options for codebook creation — cb_create_options","text":"Additional options use cb_create().","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create_options.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Additional options for codebook creation — cb_create_options","text":"","code":"cb_create_options(   ...,   include_types = TRUE,   include_r_classes = FALSE,   rmv_html = TRUE,   rmv_line_breaks = TRUE,   user_missing_col = c(\"if_any\", \"yes\", \"no\"),   user_missing_conflict = c(\"val_label\", \"missing_label\"),   user_missing_incompatible = c(\"ignore\", \"warn\", \"error\") )  cb_create_redcap_options(   ...,   include_types = TRUE,   include_r_classes = FALSE,   rmv_html = TRUE,   rmv_line_breaks = TRUE,   user_missing_col = c(\"if_any\", \"yes\", \"no\"),   user_missing_conflict = c(\"val_label\", \"missing_label\"),   user_missing_incompatible = c(\"ignore\", \"warn\", \"error\"),   name = field_name,   var_label = field_label,   val_labels = select_choices_or_calculations,   type = field_type,   form = form_name,   val_labs_sep1 = \", \",   val_labs_sep2 = \"\\\\|\",   coerce_integers = TRUE,   checkbox_resp_values = FALSE,   propagate_checkbox_missings = TRUE )"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create_options.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Additional options for codebook creation — cb_create_options","text":"... dots future extensions must empty. include_types Include column listing simplified type variable? (e.g,. \"categorical\", \"date-time\".) include_r_classes Include column listing class(es) variable? (e.g., \"factor\", \"POSIXct, POSIXt\".) rmv_html HTML tags removed metadata (e.g., variable value labels)? rmv_line_breaks line breaks removed metadata (e.g., variable value labels)? TRUE, line breaks replaced \" / \". user_missing_col Include value labels user missing values separate column? default, \"if_any\", adds column user missings specified least one variable. user_missing_conflict labels passed .user_missing conflict value labels metadata, used? user_missing_incompatible handle variables specified .user_missing compatible user missing values (e.g., logical, Date, POSIXt)? name, var_label, val_labels, type REDCap data, columns metadata containing variable name, variable label, value labels, variable type, respectively. form REDCap data, column metadata containing form names. (Set NULL omit.) val_labs_sep1, val_labs_sep2 REDCap data, regex patterns separating value labels metadata. val_labs_sep1 separates values labels, val_labs_sep2 separates value/label pairs one another. e.g., value labels format \"1, First label|2, Second label\", set val_labs_sep1 \",\" val_labs_sep2 \"\\\\|\". coerce_integers REDCap data, variables listed \"integer\" metedata$text_validation_type_or_show_slider_number coerced integer? checkbox_resp_values REDCap data, checkbox values use labels metadata (TRUE) \"Yes\" / \"\" (FALSE)? See \"Checkbox data handling\"  cb_create_redcap() help page. propagate_checkbox_missings REDCap data, user missing values checkbox group propagated across variables group? See \"Checkbox data handling\" cb_create_redcap() help page.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create_redcap.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a codebook object from REDCap data — cb_create_redcap","title":"Generate a codebook object from REDCap data — cb_create_redcap","text":"cb_create_redcap() builds object class \"li_codebook\" dataset corresponding codebook exported REDCap. resulting object can used write Excel workbook variable data summaries (using cb_write()), extract processed data (cb_get_data()), generate dataset summaries (cb_summarize_numeric(), cb_summarize_categorical(), cb_summarize_text()). variant cb_create() includes functionality specific REDCap data metadata, including: Defaults typical REDCap metadata column names Includes form field default Unpacking, labelling, optional missing propagation checkbox data Optional coercion character variables marked \"integer\" metedata$text_validation_type_or_show_slider_number behaviors can controlled using .options argument.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create_redcap.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a codebook object from REDCap data — cb_create_redcap","text":"","code":"cb_create_redcap(   data,   metadata,   ...,   .user_missing = NULL,   .split_var_labels = NULL,   .options = cb_create_redcap_options() )"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create_redcap.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a codebook object from REDCap data — cb_create_redcap","text":"data data frame exported retrieved REDCap. metadata data frame containing REDCap codebook associated data. ... Additional columns metadata preserve final codebook. New names can assigned passing named arguments. Columns variable name, form, variable label, value labels included default. .user_missing formula list formulas specifying user missing values. Formulas specify variables left-hand side (variable names tidyselect expressions), missing values right-hand side. left-hand side omitted, defaults tidyselect::everything(). See \"Specifying user missing values\" cb_create() documentation  examples. .split_var_labels tidyselect expression list tidyselect expressions, indicating (sets ) variable labels common stem extracted separate column. .options Additional options use codebook creation. Must result call cb_create_redcap_options() cb_create_options(). See ?cb_create_redcap_options available options.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create_redcap.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a codebook object from REDCap data — cb_create_redcap","text":"\"li_codebook\" object, consisting tibble summarizing passed dataset attributes containing additional metadata. tibble includes columns: name: variable name form: form name type: column containing simplified variable type class: optional column containing class(es) variable label_stem: optional column containing variable label stems, variables specified .split_var_labels label: variable label values: values, labels applicable user_missing: optional column showing user missing values, labels applicable. default, column included user missings specified least one variable. behavior can changed using user_missing_col argument cb_create_options(). missing: proportion missing additional columns specified ...","code":""},{"path":[]},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create_redcap.html","id":"value-labels","dir":"Reference","previous_headings":"","what":"Value labels","title":"Generate a codebook object from REDCap data — cb_create_redcap","text":"Data REDCap checkboxes yields one variable dataset response option. default, labelled generically \"Yes\" \"\". example, consider checkbox group options \"past year,\" \"year ago,\" \"Never,\" corresponding variables chk_var1___0, chk_var1___1, chk_var1___2. default, given value labels: chk_var1___0, chk_var1___1, chk_var1___2: 0 = \"\"; 1 =  \"Yes\". behavior can changed setting checkbox_resp_values = TRUE cb_create_options(). case, response-specific labels metadata used, variable unique labels: chk_var1___0: 0 = \"selected,\" 1 = \"past year\" chk_var1___1: 0 = \"selected,\" 1 = \"year ago\" chk_var1___2: 0 = \"selected,\" 0 = \"Never\"","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create_redcap.html","id":"missing-value-propagation","dir":"Reference","previous_headings":"","what":"Missing value propagation","title":"Generate a codebook object from REDCap data — cb_create_redcap","text":"default, missing values checkbox group propagated variables group. example, consider checkbox group options \"Pregnant,\" \"pregnant,\" \"applicable,\" corresponding variables chk_preg_0___0, chk_preg_0___1, chk_preg_0____9, assuming -9 specified user missing value. default, chk_preg_0___0 chk_preg_0___1 set -9 chk_preg_0____9 1. behavior can overridden setting propagate_checkbox_missings = FALSE cb_create_options(), case values changed.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create_spss.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a codebook object from an SPSS dataset — cb_create_spss","title":"Generate a codebook object from an SPSS dataset — cb_create_spss","text":"cb_create_spss() builds object class \"li_codebook\" imported SPSS dataset. Metadata including variable labels, value labels, user missing values extracted imported dataset. (User missing values can also set using .user_missing argument.)` resulting object can used write Excel workbook variable data summaries (using cb_write()), extract processed data (cb_get_data()), generate dataset summaries (cb_summarize_numeric(), cb_summarize_categorical(), cb_summarize_text()).","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create_spss.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a codebook object from an SPSS dataset — cb_create_spss","text":"","code":"cb_create_spss(   data,   .user_missing = NULL,   .split_var_labels = NULL,   .options = cb_create_options() )"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create_spss.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a codebook object from an SPSS dataset — cb_create_spss","text":"data data frame imported SPSS using (imported using haven::read_spss(), read_sav(), read_por()). .user_missing formula list formulas specifying user missing values. Formulas specify variables left-hand side (variable names tidyselect expressions), missing values right-hand side. left-hand side omitted, defaults tidyselect::everything(). See \"Specifying user missing values\" cb_create() documentation examples. .split_var_labels tidyselect expression list tidyselect expressions, indicating (sets ) variable labels common stem extracted separate column. .options Additional options use codebook creation. Must result call cb_create_options(). See function's help page available options.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_create_spss.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a codebook object from an SPSS dataset — cb_create_spss","text":"\"li_codebook\" object, consisting tibble summarizing passed dataset attributes containing additional metadata. tibble includes columns: name: variable name type: column containing simplified variable type class: optional column containing class(es) variable label_stem: optional column containing variable label stems, variables specified .split_var_labels label: variable label values: values, labels applicable user_missing: optional column showing user missing values, labels applicable. default, column included user missings specified least one variable. behavior can changed using user_missing_col argument cb_create_options(). missing: proportion missing","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_get_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract data from a codebook object — cb_get_data","title":"Extract data from a codebook object — cb_get_data","text":"Codebook objects created cb_create() friends contain several transformed versions originally passed dataset. can extracted using cb_get_data().","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_get_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract data from a codebook object — cb_get_data","text":"","code":"cb_get_data(cb, format = c(\"factors\", \"haven\"))"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_get_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract data from a codebook object — cb_get_data","text":"cb object class \"li_codebook\" produced cb_create() variant. format Format returned data, either \"factors\" \"haven\"; see details.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_get_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract data from a codebook object — cb_get_data","text":"tibble variables formatted based format argument. \"factors\", variables value labels converted factors, user missings converted NA. \"haven\", variable labels, value labels, user missings encoded using class \"haven_labelled_spss\"`. formats may also reflect transformations made variants cb_create(). particular, codebooks created using cb_create_redcap(), integer coercion propagation user missings across checkbox variables.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_summarize_categorical.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize categorical variables from a codebook object — cb_summarize_categorical","title":"Summarize categorical variables from a codebook object — cb_summarize_categorical","text":"cb_summarize_categorical() generates frequencies table categorical variables codebook object, optionally group. Variables value labels, factors (including ordered factors), logical variables treated categorical.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_summarize_categorical.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize categorical variables from a codebook object — cb_summarize_categorical","text":"","code":"cb_summarize_categorical(   cb,   group_by = NULL,   prefixed = TRUE,   detail_missing = missing(group_by),   detail_na_label = \"NA\",   warn_if_none = TRUE )"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_summarize_categorical.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize categorical variables from a codebook object — cb_summarize_categorical","text":"cb object class \"li_codebook\" produced cb_create() variant. group_by <tidy-select> Column columns group . prefixed value labels prefixed corresponding value? e.g., TRUE yields \"[1] Value One\"; FALSE yields \"Value One\". detail_missing Include detailed missing value information? Currently supported grouping variables specified. detail_na_label Label used NA values detail_missing TRUE. warn_if_none warning issued categorical variables cb?","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_summarize_categorical.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize categorical variables from a codebook object — cb_summarize_categorical","text":"categorical variables cb, NULL. Otherwise, tibble columns: optional grouping column(s) specified group_by name: variable name label_stem: optional column containing variable label stems; included cb includes label_stem column least one categorical variable non-missing label stem. label: variable label is_missing: optional column indicating value missing value. Included detail_missing TRUE. value: variable value n: number observations pct_of_all: proportion (non-missing missing) observations pct_of_valid: non-missing values, proportion non-missing observations pct_of_missing: optional column showing, missing values, proportion missing observations. Included detail_missing TRUE.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_summarize_numeric.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize numeric variables from a codebook object — cb_summarize_numeric","title":"Summarize numeric variables from a codebook object — cb_summarize_numeric","text":"cb_summarize_numeric() generates summary table numeric variables codebook object, optionally group. Future releases include options specify summary statistics used. Currently, summary statistics valid n %; mean SD; median, MAD, min, max, range; skewness, kurtosis.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_summarize_numeric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize numeric variables from a codebook object — cb_summarize_numeric","text":"","code":"cb_summarize_numeric(cb, group_by = NULL, warn_if_none = TRUE)"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_summarize_numeric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize numeric variables from a codebook object — cb_summarize_numeric","text":"cb object class \"li_codebook\" produced cb_create() variant. group_by <tidy-select> Column columns group . warn_if_none warning issued numeric variables cb?","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_summarize_numeric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize numeric variables from a codebook object — cb_summarize_numeric","text":"numeric variables cb, NULL. Otherwise, tibble columns: optional grouping column(s) specified group_by name: variable name label_stem: optional column containing variable label stems; included cb includes label_stem column least one numeric variable non-missing label stem. label: variable label valid_n, valid_pct: number proportion non-missing values summary statistic columns: default, include mean standard deviation (SD); median, median absolute deviation (MAD), min, max, range; skewness (skew), kurtosis (kurt).","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_summarize_text.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize character variables from a codebook object — cb_summarize_text","title":"Summarize character variables from a codebook object — cb_summarize_text","text":"cb_summarize_text() generates summary table character variables codebook object, including number unique values, frequencies common values, missing value information. Note character variables class \"haven_labelled\" treated categorical; see cb_summarize_categorical().","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_summarize_text.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize character variables from a codebook object — cb_summarize_text","text":"","code":"cb_summarize_text(   cb,   n_text_vals = 5,   detail_missing = TRUE,   detail_na_label = \"NA\",   warn_if_none = TRUE )"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_summarize_text.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize character variables from a codebook object — cb_summarize_text","text":"cb object class \"li_codebook\" produced cb_create() variant. n_text_vals many unique non-missing values included variable? detail_missing Include detailed missing value information? detail_na_label Label used NA values detail_missing TRUE. warn_if_none warning issued text variables cb?","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_summarize_text.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize character variables from a codebook object — cb_summarize_text","text":"text variables cb, NULL. Otherwise, tibble columns: name: variable name label_stem: optional column containing variable label stems; included cb includes label_stem column least one character variable non-missing label stem. label: variable label unique_n: number unique non-missing values is_missing: optional column indicating value missing value. Included detail_missing TRUE. value: prevalent unique values variable. n_text_vals + 1 unique values, n_text_vals common non-missing values included. (missing values always included.) n: number observations pct_of_all: proportion (non-missing missing) observations pct_of_valid: non-missing values, proportion non-missing observations pct_of_missing: optional column showing, missing values, proportion missing observations. Included detail_missing TRUE.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_write.html","id":null,"dir":"Reference","previous_headings":"","what":"Write codebook and data summaries to an Excel workbook — cb_write","title":"Write codebook and data summaries to an Excel workbook — cb_write","text":"cb_write() writes Excel workbook disk tabs including codebook; summary statistics numeric variables; frequencies categorical variables; truncated frequencies text variables; optional grouped summaries numeric categorical variables. data summaries, variables value labels, factors, logical variables treated categorical; numeric integer variables treated numeric; (unlabeled) character variables treated text. Summary tabs omitted variables relevant type.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_write.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write codebook and data summaries to an Excel workbook — cb_write","text":"","code":"cb_write(   cb,   file,   dataset_name = NULL,   group_by = NULL,   group_rows = NULL,   group_rows_numeric = group_rows,   group_rows_categorical = group_rows,   detail_missing = c(\"if_any_user_missing\", \"yes\", \"no\"),   n_text_vals = 5,   incl_date = TRUE,   incl_dims = TRUE,   hyperlinks = TRUE,   overwrite = TRUE )"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_write.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write codebook and data summaries to an Excel workbook — cb_write","text":"cb object class \"li_codebook\" produced cb_create() variant. file Path write . dataset_name Name dataset display workbook headers. group_by <tidy-select> Column columns group . specified, additional numeric categorical summary tabs included grouped summaries. Subgroups shown columns default. grouping variables can instead shown rows specified group_rows, group_rows_numeric, group_rows_categorical. group_rows <tidy-select> Column columns group rows grouped summary tabs. columns must also specified group_by. apply numeric categorical summary tabs unless otherwise specified group_rows_numeric group_rows_categorical. group_rows_numeric, group_rows_categorical <tidy-select> Column columns group rows grouped numeric categorical summary tab. detail_missing Include detailed missing value information ungrouped categorical text summary tabs? (Detailed missing information grouped summary tabs currently supported.) n_text_vals text summary tab, many unique non-missing values included variable? n_text_vals + 1 unique values, n_text_vals common non-missing values included. incl_date, incl_dims date /dataset dimensions included Overview tab header? hyperlinks TRUE, variable names Overview sheet link corresponding rows summary tabs vice versa. overwrite Overwrite existing file?","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_write.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write codebook and data summaries to an Excel workbook — cb_write","text":"Invisibly returns path written Excel file. Excel workbook contain \"Overview\" tab (see cb_create() variants details); \"Summary - Numeric\", \"Summary - Categorical\", \"Summary - Text\" tabs dataset includes variables relevant type (see cb_summarize_numeric(), cb_summarize_categorical(), cb_summarize_text()); \"Grouped Summary - Numeric\" \"Grouped Summary - Categorical\" tabs group_by specified.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/cb_write.html","id":"alternative-labelling-for-user-missing-values","dir":"Reference","previous_headings":"","what":"Alternative labelling for user missing values","title":"Write codebook and data summaries to an Excel workbook — cb_write","text":"Different terminology user missing values can used setting options(lighthouse.codebook.nonresponse = TRUE). set, \"User Missings\" column Overview sheet instead called \"Nonresponse Codes,\" \"Missing\" values instead referred \"Excluded\" values overview summary tabs.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/lighthouse.codebook-package.html","id":null,"dir":"Reference","previous_headings":"","what":"lighthouse.codebook: Summarize Datasets for Lighthouse Institute Projects — lighthouse.codebook-package","title":"lighthouse.codebook: Summarize Datasets for Lighthouse Institute Projects — lighthouse.codebook-package","text":"Functions generate codebooks dataset summaries Lighthouse Institute projects.","code":""},{"path":[]},{"path":"https://ccsarapas.github.io/lighthouse.codebook/reference/lighthouse.codebook-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"lighthouse.codebook: Summarize Datasets for Lighthouse Institute Projects — lighthouse.codebook-package","text":"Maintainer: Casey Sarapas ccsarapas@chestnut.org (ORCID) contributors: Chestnut Health Systems [copyright holder]","code":""},{"path":[]},{"path":"https://ccsarapas.github.io/lighthouse.codebook/news/index.html","id":"fixed-0-3-1","dir":"Changelog","previous_headings":"","what":"Fixed","title":"lighthouse.codebook 0.3.1","text":"cb_create_spss() longer throws error .user_missing = NULL.","code":""},{"path":[]},{"path":"https://ccsarapas.github.io/lighthouse.codebook/news/index.html","id":"added-0-3-0","dir":"Changelog","previous_headings":"","what":"Added","title":"lighthouse.codebook 0.3.0","text":"Added options cb_write() show grouping variables categorical summaries rows (previously possible numeric summaries.) cb_write() now includes three arguments showing grouping variables rows: group_rows controls numeric categorical summaries, group_rows_numeric group_rows_categorical control numeric categorical summaries, respectively. Added introductory vignette (see vignette(\"lighthouse-codebook\")). Expanded README.","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/news/index.html","id":"changed-0-3-0","dir":"Changelog","previous_headings":"","what":"Changed","title":"lighthouse.codebook 0.3.0","text":"cb_create(), cb_create_spss(), cb_create_redcap() now use single .options argument less commonly used settings. Arguments settings moved options object created cb_create_options() cb_create_redcap_options().","code":"# previously cb <- cb_create(   dat, metadata = metadata,    .rmv_html = FALSE, .include_r_classes = TRUE )  # now cb <- cb_create(   dat, metadata = metadata,    .options = cb_create_options(rmv_html = FALSE, include_r_classes = TRUE) )  ### `cb_create_spss()` also uses `cb_create_options()` # previously cb_spss <- cb_create_spss(dat_spss, .rmv_line_breaks = FALSE)  # now cb_spss <- cb_create_spss(   dat_spss,    .options = cb_create_options(rmv_line_breaks = FALSE) )  ### Note that `cb_create_redcap()` has its own options constructor # previously cb <- cb_create_redcap(   dat_rc, metadata = metadata_rc,    .form = NULL, .rmv_html = FALSE )  # now cb <- cb_create_redcap(   dat_rc, metadata = metadata_rc,    .options = cb_create_redcap_options(form = NULL, rmv_html = FALSE) )"},{"path":"https://ccsarapas.github.io/lighthouse.codebook/news/index.html","id":"removed-0-3-0","dir":"Changelog","previous_headings":"","what":"Removed","title":"lighthouse.codebook 0.3.0","text":"format = \"values\" option cb_get_data() removed (see #26).","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/news/index.html","id":"lighthousecodebook-023","dir":"Changelog","previous_headings":"","what":"lighthouse.codebook 0.2.3","title":"lighthouse.codebook 0.2.3","text":"cb_create_spss() now accepts .rmv_html .rmv_line_breaks arguments, consistent cb_create() cb_create_redcap(). TRUE (default), HTML tags line breaks removed variable value labels. cb_create_spss() now handles user missing value ranges correctly (fixes #23). detail_missing = \"if_any\" cb_write() now includes detailed missing values user missings included SPSS metadata (fixes #24).","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/news/index.html","id":"lighthousecodebook-022","dir":"Changelog","previous_headings":"","what":"lighthouse.codebook 0.2.2","title":"lighthouse.codebook 0.2.2","text":"cb_write() longer throws error codebook contains split variable labels summary tabs label stems. Error messages now correctly report calling arguments (fixes #21).","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/news/index.html","id":"lighthousecodebook-021","dir":"Changelog","previous_headings":"","what":"lighthouse.codebook 0.2.1","title":"lighthouse.codebook 0.2.1","text":"Suppressed warning missing styles cb_write() emitted openxlsx2 >= v1.23.0.","code":""},{"path":[]},{"path":"https://ccsarapas.github.io/lighthouse.codebook/news/index.html","id":"new-feature-0-2-0","dir":"Changelog","previous_headings":"","what":"New feature","title":"lighthouse.codebook 0.2.0","text":"Grouping variables numeric summaries can now shown rows rather (addition ) columns using group_rows_numeric argument cb_write().","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/news/index.html","id":"bug-fixes-0-2-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"lighthouse.codebook 0.2.0","text":"Categorical variables longer included summaries generated cb_summarize_text() text summary tab workbooks produced cb_write() (fixes #13). cb_summarize_text() now includes user missings detail_missing TRUE (fixes #14). Several bugs affecting cb_summarize_categorical() fixed: prefixed argument now works expected (fixes #2). Observed values without value labels now handled correctly (fixes #4). Missing values \"haven_labelled\" vectors now handled correctly (fixes #16). Datasets containing categorical variables longer cause cb_write() throw error (fixes #15).","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/news/index.html","id":"lighthousecodebook-011","dir":"Changelog","previous_headings":"","what":"lighthouse.codebook 0.1.1","title":"lighthouse.codebook 0.1.1","text":"cb_summarize_text() now works expected codebook doesn’t include label column (fixes #5). Added dependency R >= 4.3.0 base pipe placeholder. Fixed typos tweaked wording docs cb_create(), cb_create_spss(), cb_write().","code":""},{"path":"https://ccsarapas.github.io/lighthouse.codebook/news/index.html","id":"lighthousecodebook-010","dir":"Changelog","previous_headings":"","what":"lighthouse.codebook 0.1.0","title":"lighthouse.codebook 0.1.0","text":"New function cb_summarize_text() returns summary text variables including unique values, frequencies common values, missing value information. tab including information now included workbooks created cb_write(). workbooks produced cb_write(), variable names Overview sheet now hyperlinked corresponding rows summary tabs vice versa. can turned setting hyperlinks FALSE. .split_var_labels argument cb_create() variants splits variable labels common prefix separate columns. example, given set variable labels begin \"Select apply: \", default behavior : …specifying .split_var_labels = colors1:colors4 yields: Multiple sets variables common prefixes can specified passing list tidyselect expressions. cb_create() variants now return general type information (e.g., \"date-time\" rather \"POSIXct, POSIXt\") .include_types TRUE (default). Detailed class information can requested setting .include_r_classes TRUE. n subgroup now included decked headers grouped summaries. cb_write(), changed detail_missing argument logical options \"if_any_user_missing\", \"yes\", \"\". cb_summarize_numeric(), cb_summarize_categorical(), cb_summarize_text() now return NULL variables relevant type, optional warning controlled .warn_if_none argument. Categorical, numeric, /text summary tabs now omitted variables relevant type. cb_create() variants, changed .rmv_html .rmv_line_breaks arguments logical rather tidyselect.","code":""}]
